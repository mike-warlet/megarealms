// ============================================================================
// MEGAREALMS Game Data - ES Module Export
// Auto-generated from index.html source
// ============================================================================

// Monster Definitions
const MONS = {bug:{n:'Bug',hp:15,atk:2,def:0,xp:5,spd:1400,sz:.5,loot:[{id:'gold_coin',mn:1,mx:3,ch:.6}]},rat:{n:'Rat',hp:25,atk:5,def:1,xp:10,spd:1200,sz:.7,loot:[{id:'gold_coin',mn:1,mx:5,ch:.8},{id:'cheese',mn:1,mx:1,ch:.3}]},cave_rat:{n:'Cave Rat',hp:35,atk:8,def:2,xp:15,spd:1100,sz:.7,loot:[{id:'gold_coin',mn:2,mx:8,ch:.8},{id:'cheese',mn:1,mx:1,ch:.2}]},deer:{n:'Deer',hp:40,atk:3,def:1,xp:12,spd:900,sz:.8,loot:[{id:'gold_coin',mn:1,mx:5,ch:.7},{id:'meat',mn:1,mx:2,ch:.5},{id:'deer_antler',mn:1,mx:1,ch:.15}]},snake:{n:'Snake',hp:45,atk:9,def:2,xp:20,spd:1000,sz:.6,loot:[{id:'gold_coin',mn:3,mx:10,ch:.8},{id:'snake_skin',mn:1,mx:2,ch:.4}]},poison_spider:{n:'Poison Spider',hp:50,atk:12,def:3,xp:30,spd:900,sz:.5,loot:[{id:'gold_coin',mn:5,mx:15,ch:.8},{id:'spider_silk',mn:1,mx:1,ch:.5},{id:'poison_dust',mn:1,mx:1,ch:.2}]},boar:{n:'Boar',hp:60,atk:15,def:4,xp:35,spd:850,sz:.8,loot:[{id:'gold_coin',mn:5,mx:20,ch:.8},{id:'meat',mn:2,mx:3,ch:.6},{id:'boar_tusk',mn:1,mx:1,ch:.3}]},wolf:{n:'Wolf',hp:55,atk:14,def:3,xp:32,spd:800,sz:.7,loot:[{id:'gold_coin',mn:5,mx:18,ch:.8},{id:'wolf_paw',mn:1,mx:1,ch:.35},{id:'meat',mn:1,mx:2,ch:.4}]},bear:{n:'Bear',hp:90,atk:18,def:6,xp:50,spd:1100,sz:1,loot:[{id:'gold_coin',mn:10,mx:30,ch:.8},{id:'bear_paw',mn:1,mx:1,ch:.4},{id:'meat',mn:3,mx:5,ch:.6}]},orc:{n:'Orc',hp:65,atk:16,def:4,xp:40,spd:950,sz:.8,loot:[{id:'gold_coin',mn:10,mx:25,ch:.8},{id:'orc_tooth',mn:1,mx:1,ch:.35}]},minotaur:{n:'Minotaur',hp:120,atk:22,def:8,xp:80,spd:1000,sz:1.1,loot:[{id:'gold_coin',mn:20,mx:50,ch:.8},{id:'minotaur_horn',mn:1,mx:1,ch:.35}]},skeleton:{n:'Skeleton',hp:70,atk:17,def:5,xp:45,spd:1050,sz:.7,loot:[{id:'gold_coin',mn:10,mx:28,ch:.8},{id:'bone',mn:1,mx:3,ch:.5}]},scorpion:{n:'Scorpion',hp:75,atk:19,def:5,xp:55,spd:1200,sz:.6,loot:[{id:'gold_coin',mn:12,mx:35,ch:.8},{id:'scorpion_tail',mn:1,mx:1,ch:.4}]},mummy:{n:'Mummy',hp:85,atk:21,def:7,xp:65,spd:900,sz:.8,loot:[{id:'gold_coin',mn:15,mx:40,ch:.8},{id:'mummy_bandage',mn:1,mx:1,ch:.35}]},dragon:{n:'Dragon',hp:200,atk:30,def:12,xp:150,spd:1100,sz:1.2,loot:[{id:'gold_coin',mn:50,mx:150,ch:.9},{id:'dragon_scale',mn:1,mx:3,ch:.5}]},demon:{n:'Demon',hp:150,atk:28,def:10,xp:120,spd:1050,sz:1,loot:[{id:'gold_coin',mn:40,mx:100,ch:.9},{id:'demon_horn',mn:1,mx:1,ch:.4}]},cyclops:{n:'Cyclops',hp:110,atk:25,def:9,xp:90,spd:950,sz:1.1,loot:[{id:'gold_coin',mn:25,mx:60,ch:.8},{id:'cyclops_eye',mn:1,mx:1,ch:.3}]},lich:{n:'Lich',hp:140,atk:26,def:11,xp:110,spd:1000,sz:.9,loot:[{id:'gold_coin',mn:30,mx:80,ch:.9},{id:'lich_staff_piece',mn:1,mx:1,ch:.25}]},warlock:{n:'Warlock',hp:130,atk:24,def:10,xp:100,spd:1050,sz:.8,loot:[{id:'gold_coin',mn:28,mx:75,ch:.9},{id:'warlock_rune',mn:1,mx:1,ch:.25}]},hydra:{n:'Hydra',hp:180,atk:32,def:13,xp:140,spd:1000,sz:1.2,loot:[{id:'gold_coin',mn:60,mx:180,ch:.9},{id:'hydra_head',mn:1,mx:2,ch:.4}]},juggernaut:{n:'Juggernaut',hp:220,atk:35,def:16,xp:170,spd:900,sz:1.3,loot:[{id:'gold_coin',mn:70,mx:200,ch:.9},{id:'juggernaut_plate',mn:1,mx:1,ch:.3}]},hellhound:{n:'Hellhound',hp:160,atk:29,def:12,xp:130,spd:1100,sz:1,loot:[{id:'gold_coin',mn:50,mx:120,ch:.9},{id:'hellhound_fang',mn:1,mx:1,ch:.35}]},ancient_guardian:{n:'Ancient Guardian',hp:190,atk:31,def:14,xp:150,spd:950,sz:1.2,loot:[{id:'gold_coin',mn:60,mx:160,ch:.9},{id:'ancient_rune',mn:1,mx:1,ch:.3}]},fire_sprite:{n:'Fire Sprite',hp:80,atk:18,def:8,spd:1400,xp:45,loot:[{id:'fire_essence',mn:1,mx:2,ch:.4},{id:'gold_coin',mn:5,mx:15,ch:.6}]},lava_golem:{n:'Lava Golem',hp:160,atk:30,def:14,spd:1600,xp:100,loot:[{id:'fire_essence',mn:1,mx:3,ch:.5},{id:'gold_coin',mn:10,mx:30,ch:.7},{id:'hp_pot',mn:1,mx:1,ch:.3}]},fire_elemental:{n:'Fire Elemental',hp:280,atk:45,def:20,spd:1800,xp:200,loot:[{id:'fire_essence',mn:2,mx:4,ch:.6},{id:'gold_coin',mn:20,mx:50,ch:.8},{id:'mp_pot',mn:1,mx:1,ch:.3}]},inferno_guardian:{n:'Inferno Guardian',hp:450,atk:65,def:28,spd:2000,xp:380,loot:[{id:'fire_essence',mn:3,mx:5,ch:.7},{id:'gold_coin',mn:30,mx:80,ch:.9},{id:'tower_key',mn:1,mx:1,ch:.1}]},flame_lord:{n:'Flame Lord',hp:750,atk:90,def:38,spd:2200,xp:650,loot:[{id:'fire_essence',mn:4,mx:8,ch:.9},{id:'dragon_scale',mn:1,mx:2,ch:.5},{id:'gold_coin',mn:50,mx:150,ch:1},{id:'tower_key',mn:1,mx:1,ch:.3}]},ice_sprite:{n:'Ice Sprite',hp:85,atk:16,def:10,spd:1300,xp:48,loot:[{id:'frozen_shard',mn:1,mx:2,ch:.4},{id:'gold_coin',mn:5,mx:15,ch:.6}]},frost_golem:{n:'Frost Golem',hp:170,atk:28,def:16,spd:1500,xp:110,loot:[{id:'frozen_shard',mn:1,mx:3,ch:.5},{id:'gold_coin',mn:10,mx:30,ch:.7},{id:'hp_pot',mn:1,mx:1,ch:.3}]},blizzard_elemental:{n:'Blizzard Elemental',hp:300,atk:42,def:22,spd:1700,xp:220,loot:[{id:'frozen_shard',mn:2,mx:4,ch:.6},{id:'gold_coin',mn:20,mx:50,ch:.8},{id:'mp_pot',mn:1,mx:1,ch:.3}]},glacier_guardian:{n:'Glacier Guardian',hp:480,atk:62,def:30,spd:1900,xp:400,loot:[{id:'frozen_shard',mn:3,mx:5,ch:.7},{id:'gold_coin',mn:30,mx:80,ch:.9},{id:'tower_key',mn:1,mx:1,ch:.1}]},frost_wyrm:{n:'Frost Wyrm',hp:800,atk:85,def:40,spd:2100,xp:700,loot:[{id:'frozen_shard',mn:4,mx:8,ch:.9},{id:'dragon_scale',mn:1,mx:2,ch:.5},{id:'gold_coin',mn:50,mx:150,ch:1},{id:'tower_key',mn:1,mx:1,ch:.3}]},swamp_toad:{n:'Swamp Toad',hp:90,atk:20,def:6,spd:1500,xp:50,loot:[{id:'toxic_gland',mn:1,mx:2,ch:.4},{id:'gold_coin',mn:5,mx:15,ch:.6}]},decay_crawler:{n:'Decay Crawler',hp:180,atk:32,def:12,spd:1700,xp:120,loot:[{id:'toxic_gland',mn:1,mx:3,ch:.5},{id:'gold_coin',mn:10,mx:30,ch:.7},{id:'hp_pot',mn:1,mx:1,ch:.3}]},poison_beast:{n:'Poison Beast',hp:320,atk:48,def:18,spd:1900,xp:240,loot:[{id:'toxic_gland',mn:2,mx:4,ch:.6},{id:'gold_coin',mn:20,mx:50,ch:.8},{id:'mp_pot',mn:1,mx:1,ch:.3}]},nature_wraith:{n:'Nature Wraith',hp:500,atk:68,def:26,spd:2100,xp:420,loot:[{id:'toxic_gland',mn:3,mx:5,ch:.7},{id:'gold_coin',mn:30,mx:80,ch:.9},{id:'tower_key',mn:1,mx:1,ch:.1}]},swamp_hydra:{n:'Swamp Hydra',hp:850,atk:95,def:35,spd:2300,xp:750,loot:[{id:'toxic_gland',mn:4,mx:8,ch:.9},{id:'dragon_scale',mn:1,mx:2,ch:.5},{id:'gold_coin',mn:50,mx:150,ch:1},{id:'tower_key',mn:1,mx:1,ch:.3}]},shadow_wisp:{n:'Shadow Wisp',hp:75,atk:22,def:5,spd:1200,xp:52,loot:[{id:'shadow_crystal',mn:1,mx:2,ch:.4},{id:'gold_coin',mn:5,mx:15,ch:.6}]},umbral_wraith:{n:'Umbral Wraith',hp:190,atk:35,def:14,spd:1400,xp:130,loot:[{id:'shadow_crystal',mn:1,mx:3,ch:.5},{id:'gold_coin',mn:10,mx:30,ch:.7},{id:'hp_pot',mn:1,mx:1,ch:.3}]},void_stalker:{n:'Void Stalker',hp:340,atk:50,def:22,spd:1600,xp:260,loot:[{id:'shadow_crystal',mn:2,mx:4,ch:.6},{id:'gold_coin',mn:20,mx:50,ch:.8},{id:'mp_pot',mn:1,mx:1,ch:.3}]},shadow_lord:{n:'Shadow Lord',hp:520,atk:72,def:32,spd:1800,xp:450,loot:[{id:'shadow_crystal',mn:3,mx:5,ch:.7},{id:'gold_coin',mn:30,mx:80,ch:.9},{id:'tower_key',mn:1,mx:1,ch:.1}]},void_dragon:{n:'Void Dragon',hp:900,atk:100,def:42,spd:2000,xp:800,loot:[{id:'shadow_crystal',mn:4,mx:8,ch:.9},{id:'dragon_scale',mn:1,mx:2,ch:.5},{id:'gold_coin',mn:50,mx:150,ch:1},{id:'tower_key',mn:1,mx:1,ch:.3}]}};

// Item Definitions (image data removed)
const ITEMS={club:{n:'Club',t:'weapon',s:'weapon',atk:3,p:20,d:'Basic weapon'},sword:{n:'Sword',t:'weapon',s:'weapon',atk:8,p:100,d:'Steel sword',sk:'melee'},fire_sword:{n:'Fire Sword',t:'weapon',s:'weapon',atk:22,p:800,d:'Flaming sword',sk:'melee'},magic_sword:{n:'Magic Longsword',t:'weapon',s:'weapon',atk:30,p:2000,d:'Rare magic sword',sk:'melee'},axe:{n:'Battle Axe',t:'weapon',s:'weapon',atk:12,p:200,d:'Battle axe',sk:'melee'},halberd:{n:'Halberd',t:'weapon',s:'weapon',atk:18,p:600,d:'Heavy halberd',sk:'melee'},morning_star:{n:'Morning Star',t:'weapon',s:'weapon',atk:15,p:350,d:'Morning star',sk:'melee'},giant_sword:{n:'Giant Sword',t:'weapon',s:'weapon',atk:38,p:5000,d:'Giant sword',sk:'melee'},demon_blade:{n:'Demon Blade',t:'weapon',s:'weapon',atk:46,p:15000,d:'Demon blade',sk:'melee'},spear:{n:'Spear',t:'weapon',s:'weapon',atk:6,rng:3,p:50,d:'Basic spear',sk:'distance'},bow:{n:'Bow',t:'weapon',s:'weapon',atk:10,rng:4,p:300,d:'Long bow',sk:'distance'},crossbow:{n:'Crossbow',t:'weapon',s:'weapon',atk:16,rng:5,p:700,d:'Heavy crossbow',sk:'distance'},royal_crossbow:{n:'Royal Crossbow',t:'weapon',s:'weapon',atk:26,rng:6,p:2500,d:'Royal crossbow',sk:'distance'},arbalest:{n:'Arbalest',t:'weapon',s:'weapon',atk:34,rng:7,p:6000,d:'Powerful arbalest',sk:'distance'},divine_bow:{n:'Divine Bow',t:'weapon',s:'weapon',atk:42,rng:8,p:14000,d:'Divine bow',sk:'distance'},magic_staff:{n:'Magic Staff',t:'weapon',s:'weapon',atk:4,matk:10,p:400,d:'Magic staff',sk:'magic'},wand_fire:{n:'Wand of Fire',t:'weapon',s:'weapon',atk:3,matk:16,p:900,d:'Fire wand',sk:'magic'},wand_ice:{n:'Wand of Ice',t:'weapon',s:'weapon',atk:3,matk:16,p:900,d:'Ice wand',sk:'magic'},wand_death:{n:'Wand of Death',t:'weapon',s:'weapon',atk:3,matk:22,p:2000,d:'Death wand',sk:'magic'},wand_cosmic:{n:'Wand Cosmic',t:'weapon',s:'weapon',atk:4,matk:30,p:6000,d:'Cosmic wand',sk:'magic'},staff_destruction:{n:'Staff of Destruction',t:'weapon',s:'weapon',atk:5,matk:40,p:15000,d:'Staff of destruction',sk:'magic'},druid_rod:{n:'Druid Rod',t:'weapon',s:'weapon',atk:4,matk:10,p:400,d:'Druid rod',sk:'magic'},snakebite_rod:{n:'Snakebite Rod',t:'weapon',s:'weapon',atk:3,matk:14,p:800,d:'Snakebite rod',sk:'magic'},terra_rod:{n:'Terra Rod',t:'weapon',s:'weapon',atk:3,matk:18,p:1500,d:'Terra rod',sk:'magic'},hailstorm_rod:{n:'Hailstorm Rod',t:'weapon',s:'weapon',atk:3,matk:24,p:3500,d:'Hailstorm rod',sk:'magic'},springsprout_rod:{n:'Springsprout Rod',t:'weapon',s:'weapon',atk:4,matk:32,p:8000,d:'Springsprout rod',sk:'magic'},leather:{n:'Leather Armor',t:'armor',s:'armor',def:3,p:80,d:'Leather armor'},chain:{n:'Chain Armor',t:'armor',s:'armor',def:6,p:250,d:'Chain mail'},plate:{n:'Plate Armor',t:'armor',s:'armor',def:10,p:900,d:'Plate armor'},knight_armor:{n:'Knight Armor',t:'armor',s:'armor',def:14,p:2500,d:'Knight armor'},magic_plate:{n:'Magic Plate',t:'armor',s:'armor',def:18,p:5000,d:'Magic armor'},golden_armor:{n:'Golden Armor',t:'armor',s:'armor',def:22,p:10000,d:'Golden armor'},demon_armor:{n:'Demon Armor',t:'armor',s:'armor',def:28,p:25000,d:'Demon armor'},leather_cap:{n:'Leather Cap',t:'armor',s:'helmet',def:1,p:40,d:'Leather cap'},steel_helm:{n:'Steel Helmet',t:'armor',s:'helmet',def:4,p:200,d:'Steel helmet'},crown_helm:{n:'Crown Helmet',t:'armor',s:'helmet',def:8,p:1500,d:'Crown helmet'},royal_helmet:{n:'Royal Helmet',t:'armor',s:'helmet',def:12,p:4000,d:'Royal helmet'},demon_helmet:{n:'Demon Helmet',t:'armor',s:'helmet',def:16,p:12000,d:'Demon helmet'},wood_shield:{n:'Wood Shield',t:'armor',s:'shield',def:2,p:30,d:'Wood shield'},steel_shield:{n:'Steel Shield',t:'armor',s:'shield',def:6,p:350,d:'Steel shield'},tower_shield:{n:'Tower Shield',t:'armor',s:'shield',def:10,p:1200,d:'Tower shield'},demon_shield:{n:'Demon Shield',t:'armor',s:'shield',def:14,p:4000,d:'Demon shield'},blessed_shield:{n:'Blessed Shield',t:'armor',s:'shield',def:20,p:15000,d:'Blessed shield'},leather_legs:{n:'Leather Legs',t:'armor',s:'legs',def:2,p:60,d:'Leather pants'},steel_legs:{n:'Steel Legs',t:'armor',s:'legs',def:5,p:400,d:'Steel legs'},golden_legs:{n:'Golden Legs',t:'armor',s:'legs',def:10,p:2500,d:'Golden legs'},demon_legs:{n:'Demon Legs',t:'armor',s:'legs',def:14,p:8000,d:'Demon legs'},sandals:{n:'Sandals',t:'armor',s:'boots',def:0,spd:10,p:20,d:'Sandals'},leather_boots:{n:'Leather Boots',t:'armor',s:'boots',def:1,spd:5,p:80,d:'Leather boots'},steel_boots:{n:'Steel Boots',t:'armor',s:'boots',def:3,p:300,d:'Steel boots'},golden_boots:{n:'Golden Boots',t:'armor',s:'boots',def:5,spd:-10,p:2000,d:'Golden boots'},boh:{n:'Boots of Haste',t:'armor',s:'boots',def:1,spd:-30,p:8000,d:'+speed'},hp_pot:{n:'Health Potion',t:'potion',heal:100,p:25,d:'+100 HP',stk:1},mp_pot:{n:'Mana Potion',t:'potion',mana:100,p:30,d:'+100 MP',stk:1},ghp:{n:'Great HP Pot',vocs:['knight','paladin'],t:'potion',heal:300,p:100,d:'+300 HP',stk:1},gmp:{n:'Great MP Pot',vocs:['mage'],t:'potion',mana:200,p:80,d:'+200 MP',stk:1},uhp:{n:'Ultimate HP',vocs:['knight'],t:'potion',heal:800,p:350,d:'+800 HP',stk:1},ump:{n:'Ultimate MP',vocs:['mage'],t:'potion',mana:600,p:250,d:'+600 MP',stk:1},supreme_hp:{n:'Supreme HP',vocs:['knight'],t:'potion',heal:1500,p:800,d:'+1500 HP',stk:1},gsp:{n:'Great Spirit Pot',vocs:['paladin'],t:'potion',heal:250,mana:150,p:300,d:'Paladin spirit potion (HP+MP)'},usp:{n:'Ultimate Spirit Pot',vocs:['paladin'],t:'potion',heal:500,mana:300,p:600,d:'Ultimate paladin spirit potion (HP+MP)'},cheese:{n:'Cheese',t:'food',heal:20,p:3,d:'+20 HP',stk:1},meat:{n:'Meat',t:'food',heal:40,p:8,d:'+40 HP',stk:1},fish:{n:'Fish',t:'food',heal:35,p:5,d:'+35 HP',stk:1},bread:{n:'Bread',t:'food',heal:25,p:4,d:'+25 HP',stk:1},ham:{n:'Ham',t:'food',heal:60,p:15,d:'+60 HP',stk:1},snake_skin:{n:'Snake Skin',t:'loot',p:5,d:'Snake skin',stk:1},wolf_paw:{n:'Wolf Paw',t:'loot',p:12,d:'Wolf paw',stk:1},bear_paw:{n:'Bear Paw',t:'loot',p:25,d:'Bear paw',stk:1},orc_tooth:{n:'Orc Tooth',t:'loot',p:20,d:'Orc tooth',stk:1},minotaur_horn:{n:'Minotaur Horn',t:'loot',p:50,d:'Minotaur horn',stk:1},bone:{n:'Bone',t:'loot',p:3,d:'Bone',stk:1},scorpion_tail:{n:'Scorpion Tail',t:'loot',p:15,d:'Scorpion tail',stk:1},demon_horn:{n:'Demon Horn',t:'loot',p:250,d:'Demon horn',stk:1},gold_coin:{n:'Gold Coin',t:'gold',p:1,d:'Gold',stk:1},spider_silk:{n:'Spider Silk',t:'loot',p:30,d:'Spider silk',stk:1},mummy_bandage:{n:'Mummy Bandage',t:'loot',p:35,d:'Mummy bandage',stk:1},cyclops_eye:{n:'Cyclops Eye',t:'loot',p:80,d:'Cyclops eye',stk:1},lich_staff_piece:{n:'Lich Staff Piece',t:'loot',p:200,d:'Lich staff piece',stk:1},warlock_rune:{n:'Warlock Rune',t:'loot',p:180,d:'Warlock rune',stk:1},hydra_head:{n:'Hydra Head',t:'loot',p:150,d:'Hydra head',stk:1},juggernaut_plate:{n:'Juggernaut Plate',t:'loot',p:400,d:'Juggernaut plate',stk:1},hellhound_fang:{n:'Hellhound Fang',t:'loot',p:350,d:'Hellhound fang',stk:1},ancient_rune:{n:'Ancient Rune',t:'loot',p:500,d:'Ancient rune',stk:1},boar_tusk:{n:'Boar Tusk',t:'loot',p:10,d:'Boar tusk',stk:1},deer_antler:{n:'Deer Antler',t:'loot',p:8,d:'Deer antler',stk:1},soft_boots:{n:'Soft Boots',t:'boots',s:'boots',def:2,spd:-40,p:50000,d:'Premium boots (+speed)',premium:true},worn_soft_boots:{n:'Worn Soft Boots',t:'boots',s:'boots',def:1,spd:0,p:1000,d:'Depleted soft boots'},firewalker_boots:{n:'Firewalker Boots',t:'boots',s:'boots',def:3,spd:-30,p:75000,d:'Premium fire boots (+speed)',premium:true},exercise_sword:{n:'Exercise Sword',t:'training',sk:'melee',charges:50,maxCharges:50,xpPerCharge:3,p:2000,d:'Train melee skill (50 charges)',premium:true},exercise_bow:{n:'Exercise Bow',t:'training',sk:'distance',charges:50,maxCharges:50,xpPerCharge:3,p:2000,d:'Train distance skill (50 charges)',premium:true},exercise_wand:{n:'Exercise Wand',t:'training',sk:'magic',charges:50,maxCharges:50,xpPerCharge:3,p:2000,d:'Train magic skill (50 charges)',premium:true},exercise_shield:{n:'Exercise Shield',t:'training',sk:'shielding',charges:50,maxCharges:50,xpPerCharge:3,p:2000,d:'Train shielding skill (50 charges)',premium:true},durable_exercise_sword:{n:'Durable Exercise Sword',t:'training',sk:'melee',charges:250,maxCharges:250,xpPerCharge:3,p:8000,d:'Train melee skill (250 charges)',premium:true},durable_exercise_bow:{n:'Durable Exercise Bow',t:'training',sk:'distance',charges:250,maxCharges:250,xpPerCharge:3,p:8000,d:'Train distance skill (250 charges)',premium:true},durable_exercise_wand:{n:'Durable Exercise Wand',t:'training',sk:'magic',charges:250,maxCharges:250,xpPerCharge:3,p:8000,d:'Train magic skill (250 charges)',premium:true},durable_exercise_shield:{n:'Durable Exercise Shield',t:'training',sk:'shielding',charges:250,maxCharges:250,xpPerCharge:3,p:8000,d:'Train shielding skill (250 charges)',premium:true},bronze_amulet:{n:'Bronze Amulet',t:'amulet',s:'amulet',def:1,p:500,d:'Simple bronze amulet (+1 def)'},silver_amulet:{n:'Silver Amulet',t:'amulet',s:'amulet',def:2,p:2000,d:'Silver amulet (+2 def)'},gold_amulet:{n:'Gold Amulet',t:'amulet',s:'amulet',def:3,p:5000,d:'Gold amulet (+3 def)'},platinum_amulet:{n:'Platinum Amulet',t:'amulet',s:'amulet',def:4,p:12000,d:'Platinum amulet (+4 def)',premium:true},amulet_of_loss:{n:'Amulet of Loss',t:'amulet',s:'amulet',def:0,p:50000,d:'Prevents item loss on death (consumed on death)',onDeath:'prevent_loss'},dragon_necklace:{n:'Dragon Necklace',t:'amulet',s:'amulet',def:2,p:20000,d:'Dragon fire necklace (+2 def, fire resist)',premium:true},bronze_ring:{n:'Bronze Ring',t:'ring',s:'ring',def:1,p:400,d:'Simple bronze ring (+1 def)'},silver_ring:{n:'Silver Ring',t:'ring',s:'ring',def:2,p:1500,d:'Silver ring (+2 def)'},gold_ring:{n:'Gold Ring',t:'ring',s:'ring',def:2,p:4000,d:'Gold ring (+2 def)'},ring_of_healing:{n:'Ring of Healing',t:'ring',s:'ring',def:1,p:8000,d:'Healing ring (+1 def, regen boost)',regenBoost:true},might_ring:{n:'Might Ring',t:'ring',s:'ring',def:4,p:15000,d:'Mighty ring (+4 def)',premium:true},energy_ring:{n:'Energy Ring',t:'ring',s:'ring',def:1,p:10000,d:'Converts damage to mana drain (+1 def)',premium:true,manaShield:true},fire_essence:{n:'Fire Essence',t:'material',p:100,st:1},frozen_shard:{n:'Frozen Shard',t:'material',p:100,st:1},toxic_gland:{n:'Toxic Gland',t:'material',p:100,st:1},shadow_crystal:{n:'Shadow Crystal',t:'material',p:100,st:1},dragon_scale:{n:'Dragon Scale',t:'loot',p:500,d:'Dragon scale',stk:1},tower_key:{n:'Ancient Tower Key',t:'material',p:1000,st:1}};
// Quest Definitions
const QUEST_DEFS=[{id:'q_bugs',n:'Bug Squasher',d:'Kill 50 bugs',type:'kill',target:'bug',need:50,xp:80,gold:40,lvl:1},{id:'q_rats',n:'Rat Exterminator',d:'Kill 50 rats',type:'kill',target:'rat',need:50,xp:120,gold:60,lvl:1},{id:'q_deer',n:'Deer Hunter',d:'Kill 50 deer',type:'kill',target:'deer',need:50,xp:150,gold:75,lvl:2},{id:'q_snakes',n:'Snake Slayer',d:'Kill 50 snakes',type:'kill',target:'snake',need:50,xp:180,gold:90,lvl:2},{id:'q_poison_spiders',n:'Venomous Arachnids',d:'Kill 60 poison spiders',type:'kill',target:'poison_spider',need:60,xp:250,gold:120,lvl:3},{id:'q_boars',n:'Boar Hunter',d:'Kill 50 boars',type:'kill',target:'boar',need:50,xp:300,gold:150,lvl:4},{id:'q_wolves',n:'Wolf Pack Cleaner',d:'Kill 60 wolves',type:'kill',target:'wolf',need:60,xp:350,gold:180,lvl:5},{id:'q_wolf_paws',n:'Paw Collector',d:'Collect 10 wolf paws',type:'collect',target:'wolf_paw',need:10,xp:400,gold:200,lvl:5},{id:'q_bears',n:'Bear Slayer',d:'Kill 50 bears',type:'kill',target:'bear',need:50,xp:450,gold:230,lvl:6},{id:'q_scorpions',n:'Scorpion Stinger',d:'Kill 60 scorpions',type:'kill',target:'scorpion',need:60,xp:400,gold:200,lvl:6},{id:'q_rotworms',n:'Worm Crusher',d:'Kill 50 rotworms',type:'kill',target:'rotworm',need:50,xp:500,gold:250,lvl:7},{id:'q_trolls',n:'Troll Basher',d:'Kill 60 trolls',type:'kill',target:'troll',need:60,xp:600,gold:300,lvl:8},{id:'q_cave_rats',n:'Cave Rat Purge',d:'Kill 60 cave rats',type:'kill',target:'cave_rat',need:60,xp:550,gold:280,lvl:8},{id:'q_skeletons',n:'Bone Breaker',d:'Kill 80 skeletons',type:'kill',target:'skeleton',need:80,xp:700,gold:350,lvl:9},{id:'q_mummies',n:'Mummy Unwrapper',d:'Kill 60 mummies',type:'kill',target:'mummy',need:60,xp:900,gold:450,lvl:11},{id:'q_orcs',n:'Orc Exterminator',d:'Kill 80 orcs',type:'kill',target:'orc',need:80,xp:1000,gold:500,lvl:12},{id:'q_orc_warriors',n:'Orc Elite Slayer',d:'Kill 60 orc warriors',type:'kill',target:'orc_warrior',need:60,xp:1200,gold:600,lvl:13},{id:'q_spiders',n:'Giant Spider Hunter',d:'Kill 60 giant spiders',type:'kill',target:'giant_spider',need:60,xp:1100,gold:550,lvl:14},{id:'q_spider_silk',n:'Silk Collector',d:'Collect 15 spider silks',type:'collect',target:'spider_silk',need:15,xp:1200,gold:600,lvl:14},{id:'q_demon_skeletons',n:'Unholy Purge',d:'Kill 60 demon skeletons',type:'kill',target:'demon_skeleton',need:60,xp:1500,gold:750,lvl:16},{id:'q_minotaurs',n:'Labyrinth Cleaner',d:'Kill 60 minotaurs',type:'kill',target:'minotaur',need:60,xp:2000,gold:1000,lvl:18},{id:'q_horns',n:'Horn Collector',d:'Collect 10 minotaur horns',type:'collect',target:'minotaur_horn',need:10,xp:2200,gold:1100,lvl:19},{id:'q_cyclops',n:'Cyclops Crusher',d:'Kill 50 cyclopes',type:'kill',target:'cyclops',need:50,xp:2500,gold:1300,lvl:22},{id:'q_cyclops_eyes',n:'Eye Collector',d:'Collect 8 cyclops eyes',type:'collect',target:'cyclops_eye',need:8,xp:2700,gold:1400,lvl:23},{id:'q_lichs',n:'Lich Banisher',d:'Kill 50 liches',type:'kill',target:'lich',need:50,xp:3000,gold:1600,lvl:25},{id:'q_warlocks',n:'Warlock Silencer',d:'Kill 50 warlocks',type:'kill',target:'warlock',need:50,xp:3500,gold:1800,lvl:27},{id:'q_wyrms',n:'Wyrm Slayer',d:'Kill 50 wyrms',type:'kill',target:'wyrm',need:50,xp:4000,gold:2000,lvl:28},{id:'q_serpent_spawns',n:'Serpent Purge',d:'Kill 50 serpent spawns',type:'kill',target:'serpent_spawn',need:50,xp:4500,gold:2200,lvl:30},{id:'q_dragons',n:'Dragon Hunter',d:'Kill 50 dragons',type:'kill',target:'dragon',need:50,xp:5000,gold:2500,lvl:32},{id:'q_scales',n:'Scale Collector',d:'Collect 15 dragon scales',type:'collect',target:'dragon_scale',need:15,xp:5200,gold:2600,lvl:33},{id:'q_hydras',n:'Hydra Executioner',d:'Kill 50 hydras',type:'kill',target:'hydra',need:50,xp:6000,gold:3000,lvl:35},{id:'q_dragon_lords',n:'Lord Vanquisher',d:'Kill 50 dragon lords',type:'kill',target:'dragon_lord',need:50,xp:8000,gold:4000,lvl:38},{id:'q_hellhounds',n:'Hellhound Tamer',d:'Kill 60 hellhounds',type:'kill',target:'hellhound',need:60,xp:9000,gold:4500,lvl:40},{id:'q_demons',n:'Demon Banisher',d:'Kill 50 demons',type:'kill',target:'demon',need:50,xp:12000,gold:6000,lvl:45},{id:'q_undead_dragons',n:'Undead Doom',d:'Kill 30 undead dragons',type:'kill',target:'undead_dragon',need:30,xp:14000,gold:7000,lvl:48},{id:'q_juggernauts',n:'Supreme Destroyer',d:'Kill 20 juggernauts',type:'kill',target:'juggernaut',need:20,xp:18000,gold:10000,lvl:50},{id:'q_fire_sprites',n:'Inferno Initiate',d:'Kill 30 fire sprites',type:'kill',target:'fire_sprite',need:30,xp:2000,gold:800,lvl:10},{id:'q_lava_golems',n:'Lava Breaker',d:'Kill 25 lava golems',type:'kill',target:'lava_golem',need:25,xp:3500,gold:1200,lvl:12},{id:'q_fire_elementals',n:'Elemental Purge',d:'Kill 20 fire elementals',type:'kill',target:'fire_elemental',need:20,xp:5000,gold:1800,lvl:14},{id:'q_inferno_guardians',n:'Guardian Slayer',d:'Kill 15 inferno guardians',type:'kill',target:'inferno_guardian',need:15,xp:7000,gold:2500,lvl:16},{id:'q_flame_lords',n:'Lord of Flames',d:'Kill 10 flame lords',type:'kill',target:'flame_lord',need:10,xp:10000,gold:4000,lvl:18},{id:'q_ice_sprites',n:'Frost Hunter',d:'Kill 30 ice sprites',type:'kill',target:'ice_sprite',need:30,xp:2000,gold:800,lvl:10},{id:'q_frost_golems',n:'Ice Crusher',d:'Kill 25 frost golems',type:'kill',target:'frost_golem',need:25,xp:3500,gold:1200,lvl:12},{id:'q_blizzard_elementals',n:'Blizzard Tamer',d:'Kill 20 blizzard elementals',type:'kill',target:'blizzard_elemental',need:20,xp:5000,gold:1800,lvl:14},{id:'q_glacier_guardians',n:'Glacier Breaker',d:'Kill 15 glacier guardians',type:'kill',target:'glacier_guardian',need:15,xp:7000,gold:2500,lvl:16},{id:'q_frost_wyrms',n:'Wyrm Slayer',d:'Kill 10 frost wyrms',type:'kill',target:'frost_wyrm',need:10,xp:10000,gold:4000,lvl:18},{id:'q_swamp_toads',n:'Toad Stomper',d:'Kill 30 swamp toads',type:'kill',target:'swamp_toad',need:30,xp:2200,gold:900,lvl:10},{id:'q_decay_crawlers',n:'Crawler Exterminator',d:'Kill 25 decay crawlers',type:'kill',target:'decay_crawler',need:25,xp:3800,gold:1300,lvl:12},{id:'q_poison_beasts',n:'Beast Purifier',d:'Kill 20 poison beasts',type:'kill',target:'poison_beast',need:20,xp:5500,gold:2000,lvl:14},{id:'q_nature_wraiths',n:'Wraith Banisher',d:'Kill 15 nature wraiths',type:'kill',target:'nature_wraith',need:15,xp:7500,gold:2800,lvl:16},{id:'q_swamp_hydras',n:'Hydra Hunter',d:'Kill 10 swamp hydras',type:'kill',target:'swamp_hydra',need:10,xp:11000,gold:4500,lvl:18},{id:'q_shadow_wisps',n:'Wisp Collector',d:'Kill 30 shadow wisps',type:'kill',target:'shadow_wisp',need:30,xp:2500,gold:1000,lvl:10},{id:'q_umbral_wraiths',n:'Umbral Purge',d:'Kill 25 umbral wraiths',type:'kill',target:'umbral_wraith',need:25,xp:4000,gold:1400,lvl:12},{id:'q_void_stalkers',n:'Void Hunter',d:'Kill 20 void stalkers',type:'kill',target:'void_stalker',need:20,xp:6000,gold:2200,lvl:14},{id:'q_shadow_lords',n:'Lord of Shadows',d:'Kill 15 shadow lords',type:'kill',target:'shadow_lord',need:15,xp:8000,gold:3000,lvl:16},{id:'q_void_dragons',n:'Dragon of the Void',d:'Kill 10 void dragons',type:'kill',target:'void_dragon',need:10,xp:12000,gold:5000,lvl:18}];
// Spell Definitions
const SPELLS=[{id:'exori',n:'Exori',d:'Basic strike',mana:10,cd:800,dmg:25,voc:['knight'],i:'&#128481;',lvl:1},{id:'exori_gran',n:'Exori Gran',d:'Great strike',mana:25,cd:1200,dmg:55,voc:['knight'],i:'&#128481;',lvl:5},{id:'exori_min',n:'Exori Min',d:'Quick strike',mana:15,cd:400,dmg:18,voc:['knight'],i:'&#128481;',lvl:3},{id:'utani_hur',n:'Utani Hur',d:'Haste buff',mana:40,cd:5000,buff:'spd',amt:50,dur:20000,voc:['knight','paladin'],i:'&#10024;',lvl:10},{id:'exura_ico',n:'Exura Ico',d:'Light heal',mana:30,cd:1500,heal:80,voc:['knight'],i:'&#10084;',lvl:6},{id:'utito_tempo',n:'Utito Tempo',d:'Attack buff',mana:35,cd:4000,buff:'atk',amt:30,dur:15000,voc:['knight'],i:'&#9876;',lvl:8},{id:'exori_con',n:'Exori Con',d:'Basic shot',mana:15,cd:900,dmg:30,rng:4,voc:['paladin'],i:'&#127993;',lvl:2},{id:'exori_san',n:'Exori San',d:'Strong shot',mana:30,cd:1300,dmg:60,rng:5,voc:['paladin'],i:'&#127993;',lvl:6},{id:'exevo_mas_san',n:'Exevo Mas San',d:'Arrow area',mana:50,cd:2000,dmg:80,rng:5,voc:['paladin'],i:'&#127993;',lvl:12},{id:'exura',n:'Exura',d:'Medium heal',mana:50,cd:2000,heal:150,voc:['paladin','mage'],i:'&#10084;',lvl:8},{id:'exori_tar',n:'Exori Tar',d:'Earth shot',mana:25,cd:1100,dmg:45,rng:6,voc:['paladin'],i:'&#127993;',lvl:5},{id:'exori_vis',n:'Exori Vis',d:'Basic energy',mana:20,cd:900,dmg:35,voc:['mage'],i:'&#10024;',lvl:3},{id:'exori_flam',n:'Exori Flam',d:'Basic fire',mana:25,cd:1000,dmg:40,voc:['mage'],i:'&#128293;',lvl:4},{id:'exori_mort',n:'Exori Mort',d:'Basic death',mana:30,cd:1200,dmg:50,voc:['mage'],i:'&#128128;',lvl:6},{id:'exevo_gran_vis',n:'Exevo Gran Vis',d:'Great energy',mana:60,cd:2000,dmg:100,voc:['mage'],i:'&#10024;',lvl:12},{id:'exura_vita',n:'Exura Vita',d:'Strong heal',mana:70,cd:2500,heal:200,voc:['mage'],i:'&#10084;',lvl:10},{id:'utamo_vita',n:'Utamo Vita',d:'Magic shield',mana:50,cd:4000,buff:'def',amt:40,dur:12000,voc:['mage'],i:'&#128737;',lvl:9},{id:'exori_tera',n:'Exori Tera',d:'Basic earth',mana:20,cd:900,dmg:35,voc:['mage'],i:'&#127793;',lvl:2},{id:'exori_frigo',n:'Exori Frigo',d:'Basic ice',mana:25,cd:1000,dmg:40,voc:['mage'],i:'&#10052;',lvl:4},{id:'exevo_gran_frigo',n:'Exevo Gran Frigo',d:'Great ice',mana:60,cd:2000,dmg:100,voc:['mage'],i:'&#10052;',lvl:12},{id:'exura_gran',n:'Exura Gran',d:'Great heal',mana:80,cd:2500,heal:250,voc:['mage'],i:'&#10084;',lvl:11},{id:'exura_sio',n:'Exura Sio',d:'Supreme heal',mana:100,cd:3000,heal:350,voc:['mage'],i:'&#10084;',lvl:14}];
// Vocation Definitions - base stats and level-up gains
const VOCS={knight:{hp:185,mp:35,atk:14,def:10,hpL:15,mpL:5,aL:2.5,dL:2,out:{head:'#4a2020',body:'#cc3333',legs:'#aa2222',boots:'#3a1a1a'}},paladin:{hp:150,mp:60,atk:11,def:7,hpL:10,mpL:10,aL:1.8,dL:1.2,out:{head:'#2a4a2a',body:'#33aa44',legs:'#228833',boots:'#1a3a1a'}},mage:{hp:120,mp:100,atk:7,def:3,hpL:6,mpL:18,aL:1,dL:.5,out:{head:'#2a1a4a',body:'#7733cc',legs:'#5522aa',boots:'#1a1a3a'}}};
// Vocation-specific Skill XP Multipliers
// Higher value = harder to level (more XP needed)
// knight: best at melee/shielding, weak at magic/distance
// paladin: best at distance, good at shielding, moderate melee, weak magic
// mage: best at magic, weak at melee/distance/shielding
const VOC_SKILL_MULT = {
  knight: { melee: 1.0, distance: 2.5, magic: 3.0, shielding: 1.0 },
  paladin: { melee: 1.8, distance: 1.0, magic: 2.0, shielding: 1.2 },
  mage: { melee: 3.0, distance: 3.0, magic: 1.0, shielding: 2.5 }
};

// Blue Djinn loot item prices
const DJINN_LOOT_PRICES = {
  snake_skin: 50, wolf_paw: 40, bear_paw: 80, orc_tooth: 60,
  minotaur_horn: 150, bone: 20, scorpion_tail: 70, dragon_scale: 800,
  demon_horn: 1200, spider_silk: 45, mummy_bandage: 55, cyclops_eye: 200,
  lich_staff_piece: 1500, warlock_rune: 1800, hydra_head: 1000,
  juggernaut_plate: 3000, hellhound_fang: 900, ancient_rune: 500,
  boar_tusk: 30, deer_antler: 25
};

// Blessing system cost
const BLESSING_COST = 10000;

// Premium account cost in gold
const PREMIUM_COST = 50000;

// ============================================================================
// FORMULAS & FUNCTIONS
// ============================================================================

// XP needed to reach next level
function xpNeeded(level) {
  return Math.floor(50 * Math.pow(level, 2.2));
}

// Calculate damage from player to monster
function calcDamage(playerATK, playerMatk, monsterDEF, isSpell = false) {
  if (isSpell) {
    // Spell damage uses matk or falls back to atk
    let dmg = Math.floor((playerMatk || playerATK) * 0.7); // Spell multiplier
    dmg = Math.max(1, Math.floor(dmg - monsterDEF / 3));
    return dmg;
  } else {
    // Melee damage
    let dmg = Math.floor(playerATK - monsterDEF / 2);
    dmg = Math.max(1, dmg + Math.floor(Math.random() * dmg * 0.2 - dmg * 0.1));
    return dmg;
  }
}

// Calculate monster damage to player
function calcMonsterDamage(monsterATK, playerDEF) {
  let dmg = Math.floor(monsterATK - playerDEF / 2);
  dmg = Math.max(1, dmg + Math.floor(Math.random() * 3 - 1));
  return dmg;
}

// Get skill XP multiplier based on vocation
function getSkillMult(voc, skill) {
  return (VOC_SKILL_MULT[voc] && VOC_SKILL_MULT[voc][skill]) || 1.5;
}

// Calculate XP needed to level a skill
function skillXpNeeded(skillLevel, vocation, skill) {
  const SKILL_XP_MULT = 8;
  const mult = getSkillMult(vocation, skill);
  return Math.floor(skillLevel * SKILL_XP_MULT * mult);
}

// Get price for Blue Djinn
function getDjinnPrice(itemId) {
  if (DJINN_LOOT_PRICES[itemId]) return DJINN_LOOT_PRICES[itemId];
  const it = ITEMS[itemId];
  if (!it) return 0;
  if (it.t === 'weapon' || it.t === 'armor' || it.t === 'boots' || it.t === 'amulet' || it.t === 'ring') {
    return Math.floor(it.p * 0.3);
  }
  if (it.t === 'potion' || it.t === 'food') {
    return Math.floor(it.p * 0.2);
  }
  return 0;
}

// Get price for Grey Djinn (60% of Blue Djinn)
function getGreyDjinnPrice(itemId) {
  return Math.floor(getDjinnPrice(itemId) * 0.6);
}

// ============================================================================
// ES MODULE EXPORTS
// ============================================================================

export { MONS, ITEMS, QUEST_DEFS, SPELLS, VOCS };
export { VOC_SKILL_MULT, DJINN_LOOT_PRICES, BLESSING_COST, PREMIUM_COST };
export { xpNeeded, calcDamage, calcMonsterDamage, getSkillMult, skillXpNeeded };
export { getDjinnPrice, getGreyDjinnPrice };
